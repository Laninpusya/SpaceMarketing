# Domain Monitor  
**Тестовое задание**

---

## 1. Описание проекта

**Domain Monitor** — простая админ-панель для мониторинга доступности доменов.

Пользователь может:
- регистрироваться и авторизовываться;
- добавлять и удалять свои домены;
- задавать интервал проверки, таймаут и HTTP-метод (**HEAD / GET**).

Проверки выполняются через отдельный PHP-скрипт `check_domains.php`.

После проверки отправляется уведомление в публичный **Telegram-канал**.

---

## 2. Технологии

- **Backend:** Laravel 12  
- **Frontend:** Blade + Bootstrap 5 (без JS-фреймворков)  
- **База данных:** MySQL (SQLite локалка)  
- **Проверки доменов:** PHP-скрипт + GuzzleHttp  
- **Уведомления:** Telegram (`laravel-notification-channels/telegram`)  
- **Деплой:** 

---

## 3. Основной функционал

1. Регистрация и авторизация пользователей  
2. Добавление и удаление доменов  
3. Просмотр списка доменов  
4. Сохранение истории проверок в таблицу `check_logs`  
5. Отправка уведомлений в Telegram

---

## 4. Запуск проекта локально

### 4.1. Клонирование репозитория

    git clone https://github.com/

### 4.2. Установка зависимостей

    composer install
    npm install

### 4.3. Настройка окружения

    cp .env.example .env

Заполнить необходимые переменные в файле `.env`.

### 4.4. Генерация ключа приложения

    php artisan key:generate

### 4.5. Запуск миграций

    php artisan migrate

### 4.6. Сборка фронтенда

    npm run dev

⚠️ Окно терминала оставить открытым.

### 4.7. Запуск сервера

    php artisan serve

### 4.8. Ручной запуск проверок (для теста)

    php check_domains.php

---

## 5. Настройка Telegram

1. Создан публичный Telegram-канал для логов проверок:  
   https://t.me/E8RnNehT80Y1YTMy

2. Бот добавлен в канал как **администратор** с правом публикации сообщений.

3. Переменные в `.env`:

    TELEGRAM_BOT_TOKEN=токен_от_BotFather  
    TELEGRAM_CHANNEL_ID=-100xxxxxxxxxx  

---

## 6. Демо

- **Живая версия:**  
  https://твой-домен.up.railway.app  

- **Telegram-канал с логами:**  
  https://t.me/E8RnNehT80Y1YTMy

---

## 7. Примечания

- SSL-проверка в Guzzle отключена (`verify => false`) для упрощения деплоя.  
  В продакшене рекомендуется подключить `cacert.pem`.

- Уведомления отправляются только при неудачных проверках (**DOWN / ERROR**).

- Для тестового задания cron реализован в виде простого бесконечного цикла в отдельном сервисе.

---

## 8. Автор @dmt_lanin